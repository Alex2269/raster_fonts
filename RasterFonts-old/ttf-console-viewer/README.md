

Цей код виводить заданий текст у консоль у вигляді растрових символів з TTF на льоту, горизонтально один рядок, підтримує UTF-8 (до 3 байтів у символі). Параметри glyph_width і glyph_height задаються в командному рядку і регулюють розмір гліфів (в пікселях) для оптимального вибору перед генерацією.


 * Додайте до опцій компілятора шлях до FreeType заголовків, зазвичай це -I/usr/include/freetype2.
 * Для лінкування потрібна бібліотека: -lfreetype.


  gcc ttf-render.c -I/usr/include/freetype2 -lfreetype -o ttf-render


 # Usage: build/app/application.elf <font.ttf> <glyph_width> <glyph_height> <max_width_px> <text>
 
 make

 build/app/application.elf fonts/FreePixel.ttf  16 16 80 TeXtFont
 build/app/application.elf fonts/Pixel.ttf 16 16 80 TeXtFontWX





 
 
 
 
 
glyph_width — це ширина окремого символа (гліфа) у пікселях, яку ви задаєте або використовуєте для растеризації кожного гліфа (наприклад, ширина одного символа, наприклад 8 чи 12 пікселів).

max_width_px — це максимальна ширина у пікселях для загального виводу текстового рядка (або області), тобто загальна ширина консолі або буфера рядка, у межах якої ви розміщуєте кілька гліфів горизонтально, перш ніж перейти на новий рядок.


 glyph_width — ширина одного символа (одного гліфа).
 max_width_px — ширина всієї рядкової області в пікселях, у якій ви виводите текст.

Відповідно, max_width_px задає, скільки символів (у ширині) поміститься в рядку, враховуючи їхні реальні сдвиги (advance).

У FreeType це важливо, бо glyph_width використовується для рендерингу гліфа в потрібному розмірі, а max_width_px — для контролю ширини рядка і переходу на наступний рядок при виведенні тексту у консолі чи будь-якому іншому буфері.
